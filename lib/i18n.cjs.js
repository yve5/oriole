"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("react"),E=require("react-redux"),D=require("date-fns/locale"),A=require("date-fns");function G(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>t[r]})}}return n.default=t,Object.freeze(n)}const j=G(D),S=(t,n)=>{const r=[];let s;return Object.keys(t).forEach(o=>{s=!1,Object.keys(n).forEach(e=>{o===e&&(s=!0)}),s||r.push(o)}),Object.keys(n).forEach(o=>{s=!1,Object.keys(t).forEach(e=>{o===e&&(s=!0)}),s||r.push(o)}),r},y=(t,n="P",r="enUS")=>{const s=j[r];let o="-";if(t instanceof Date)n==="fromNow"?o=A.formatDistance(t,new Date,{addSuffix:!0,locale:s}):o=A.format(t,n,{locale:s});else if(typeof t=="string"){const e=A.parseISO(t,"y-MM-dd",new Date);e instanceof Date&&!isNaN(e)&&(n==="fromNow"?o=A.formatDistance(e,new Date,{addSuffix:!0,locale:s}):o=A.format(e,n,{locale:s}))}return o},p={LANG:"en",LANGUAGE:"English",DATE_FORMAT:"MM/dd/yyyy",LOCALE:"enUS","$number items per page":"$number items per page","$total records":"$total records",Add:"Add","Ascending order":"Ascending order",Back:"Back","Changes have been saved.":"Changes have been saved.","Choose a file":"Choose a file",Columns:"Columns","Creation date":"Creation date","Descending order":"Descending order",Disabled:"Disabled",Enabled:"Enabled",First:"First","Hello World":"Hello World","Hide columns":"Hide columns",Last:"Last","Loading...":"Loading...",Members:"Members",Next:"Next",No:"No","No record":"No record","One record":"One record",Previous:"Previous",Reset:"Reset","This field is invalid.":"This field is invalid.",Title:"Title","to fill":"to fill","Update of $update, created at $start by $guest":"Update of $update, created at $start by $guest",Yes:"Yes"},$="I18N_INIT_LANG",O="I18N_CHANGE_LANG",I="I18N_SWITCH_LANG",C="I18N_LOCAL_USER_LANG",b=["LANG","LANGUAGE","DATE_FORMAT","LOCALE"],w=t=>{const n=[];return typeof t=="object"&&!Array.isArray(t)&&t!==null&&Object.keys(t).forEach(r=>{p[r]&&!b.includes(r)&&n.push(r)}),n},T=(t,n=!1)=>{const r=[];Object.keys(t).sort((e,i)=>{const a=e.toLowerCase(),c=i.toLowerCase();let l=1;return a<c?l=-1:a>c?l=1:e<i&&(l=-1),l}).map(e=>r.push(e));const s=[...r],o=b.slice(0,n?1:4);return o.forEach(e=>{const i=s.indexOf(e);if(i>-1)s.splice(i,1);else throw new Error(`${e} must be defined in dictionary`)}),[...o,...s]},v=t=>T(t,!0),_=(t,n=!1)=>{const r=[];return Object.keys(t).forEach(s=>{(!n||n&&!b.slice(1).includes(s))&&r.push(s)}),r},M=t=>_(t,!0),k=({args:t,date:n,attrs:r,title:s,format:o,children:e,placeholder:i,root:{i18n:{lang:a,tsl:c}}})=>{let l="-";if(typeof n<"u")l=y(n,o,c("LOCALE"));else if(e&&a){const u=t||{};if(Object.keys(u).forEach(d=>{const f=u[d];typeof f=="object"&&f!==null&&"date"in f&&(f.lang=a)}),typeof e=="string")l=c(e,u);else{if(typeof e.length<"u")throw new Error("I18n can not translate several html tags in a row");if(e.type==="option"){const{value:d,children:f}=e.props;l=m.createElement("option",{value:d},c(f,u))}else{const d=r||[];if(s&&d.push("title"),i&&d.push("placeholder"),!Array.isArray(d)||Array.isArray(d)&&!d.length)throw new Error("I18n attributes are missing");const f={};d.forEach(N=>{typeof e.props[N]<"u"&&(f[N]=c(e.props[N],u))}),l=m.createElement(e.type,{...e.props,...f})}}}return l},R=t=>({root:t}),h=E.connect(R)(k),L={LANG:"fr",LANGUAGE:"Français",DATE_FORMAT:"dd/MM/yyyy",LOCALE:"fr","$number items per page":"$number éléments par page","$total records":"$total enregistrements",Add:"Ajouter","Ascending order":"Ordre croissant",Back:"Retour","Changes have been saved.":"Les changements ont été sauvegardés.","Choose a file":"Choisir un fichier",Columns:"Colonnes","Creation date":"Date de création","Descending order":"Ordre décroissant",Disabled:"Désactivé",Enabled:"Activé",First:"Premier","Hello World":"Bonjour le monde","Hide columns":"Cacher les colonnes",Last:"Dernier","Loading...":"Chargement...",Members:"Membres",Next:"Suivant",No:"Non","No record":"Aucun enregistrement","One record":"Un enregistrement",Previous:"Précédent",Reset:"Réinitialiser","This field is invalid.":"Ce champ est invalide.",Title:"Titre","to fill":"à remplir","Update of $update, created at $start by $guest":"Mise à jour le $update, créé le $start par $guest",Yes:"Oui"},x=(t=localStorage.getItem(C))=>({type:$,lang:t||L.LANG}),P=t=>({type:O,lang:t}),U=()=>({type:I}),H=Object.freeze(Object.defineProperty({__proto__:null,changeLang:P,initLang:x,switchLang:U},Symbol.toStringTag,{value:"Module"})),F=({className:t,switchLang:n})=>m.createElement(h,{title:!0},m.createElement("button",{type:"button",title:"LANGUAGE",className:t,onClick:()=>n()},m.createElement(h,null,"LANG"))),W=t=>({root:t}),Y={...H},q=E.connect(W,Y)(F),g=(t,n,r={},s=!1)=>{let o;if(typeof n=="string"){const e=t[n];let i=!1;if(typeof r=="object"&&r!==null&&Object.keys(r).forEach(a=>{n===a&&(i=!0)}),i)o=n;else if(e)o=e;else{const a=`Not translated input: ${n}`;if(o=n,process.env.NODE_ENV!=="test"||s)console.warn(a);else throw new Error(a)}typeof r=="object"&&r!==null&&Object.keys(r).forEach(a=>{const c=r[a];if(typeof c=="object"&&c!==null&&"date"in c){const{date:l,format:u}=c;o=o.split(a).join(y(l,u,t.LOCALE))}else o=o.split(a).join(c)})}return o},B={tsl:(t,n)=>g(p,t,n),dictionaries:[p,L],lang:p.LANG},z=(t,n=C)=>{const r=(e,i)=>{const a=e.findIndex(({LANG:c})=>c===i);return a===-1?0:a},s=localStorage.getItem(n);let o={...B};if(Array.isArray(t)&&t[0]){const e=[];t.forEach(i=>{i.LANG===p.LANG?e.push({...p,...i}):i.LANG===L.LANG?e.push({...L,...i}):e.push(i)}),o={...o,dictionaries:e,tsl:(i,a)=>g(e[0],i,a)}}if(s){const e=o.dictionaries,i=r(e,s);o={...o,lang:s,tsl:(a,c)=>g(e[i],a,c)}}return(e=o,i={})=>{switch(i.type){case O:{const a=r(e.dictionaries,i.lang);return{...e,...i,tsl:(c,l)=>g(e.dictionaries[a],c,l)}}case I:{const c=(r(e.dictionaries,e.lang)+1)%e.dictionaries.length,u=e.dictionaries[c].LANG;return localStorage.setItem(n,u),{...e,...i,lang:u,tsl:(d,f)=>g(e.dictionaries[c],d,f)}}default:return e}}};exports.I18n=h;exports.LangSwitch=q;exports.checkLocalTermOrder=v;exports.checkMissingTerms=S;exports.checkTermOrder=T;exports.convertCollection=_;exports.convertLocalCollection=M;exports.formatDate=y;exports.i18nReducer=z;exports.trim=w;
