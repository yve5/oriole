"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("react"),y=require("react-redux"),_=require("date-fns/locale"),p=require("date-fns");function D(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const o in t)if(o!=="default"){const a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>t[o]})}}return n.default=t,Object.freeze(n)}const O=D(_),S="I18N_INIT_LANG",b="I18N_CHANGE_LANG",I="I18N_SWITCH_LANG",h="I18N_LOCAL_USER_LANG",C=(t,n="P",o="enUS")=>{const a=O[o];let r="-";if(t instanceof Date)n==="fromNow"?r=p.formatDistance(t,new Date,{addSuffix:!0,locale:a}):r=p.format(t,n,{locale:a});else if(typeof t=="string"){const e=p.parseISO(t,"y-MM-dd",new Date);e instanceof Date&&!isNaN(e)&&(n==="fromNow"?r=p.formatDistance(e,new Date,{addSuffix:!0,locale:a}):r=p.format(e,n,{locale:a}))}return r},$=({args:t,date:n,attrs:o,title:a,format:r,children:e,placeholder:c,root:{i18n:{lang:s,tsl:i}}})=>{let f="-";if(typeof n<"u")f=C(n,r,i("LOCALE"));else if(e&&s){const u=t||{};if(Object.keys(u).forEach(l=>{const d=u[l];typeof d=="object"&&d!==null&&"date"in d&&(d.lang=s)}),typeof e=="string")f=i(e,u);else{if(typeof e.length<"u")throw new Error("I18n can not translate several html tags in a row");if(e.type==="option"){const{value:l,children:d}=e.props;f=m.createElement("option",{value:l},i(d,u))}else{const l=o||[];if(a&&l.push("title"),c&&l.push("placeholder"),!Array.isArray(l)||Array.isArray(l)&&!l.length)throw new Error("I18n attributes are missing");const d={};l.forEach(A=>{typeof e.props[A]<"u"&&(d[A]=i(e.props[A],u))}),f=m.createElement(e.type,{...e.props,...d})}}}return f},T=t=>({root:t}),L=y.connect(T)($),E={LANG:"fr",LANGUAGE:"Français",DATE_FORMAT:"dd/MM/yyyy",LOCALE:"fr","$number items per page":"$number éléments par page","$total records":"$total enregistrements",Add:"Ajouter","Ascending order":"Ordre croissant",Back:"Retour","Changes have been saved.":"Les changements ont été sauvegardés.","Choose a file":"Choisir un fichier",Columns:"Colonnes","Creation date":"Date de création","Descending order":"Ordre décroissant",Disabled:"Désactivé",Enabled:"Activé",First:"Premier","Hello World":"Bonjour le monde","Hide columns":"Cacher les colonnes",Last:"Dernier","Loading...":"Chargement...",Members:"Membres",Next:"Suivant",No:"Non","No record":"Aucun enregistrement","One record":"Un enregistrement",Previous:"Précédent",Reset:"Réinitialiser","This field is invalid.":"Ce champ est invalide.",Title:"Titre","to fill":"à remplir","Update of $update, created at $start by $guest":"Mise à jour le $update, créé le $start par $guest",Yes:"Oui"},G=(t=localStorage.getItem(h))=>({type:S,lang:t||E.LANG}),j=t=>({type:b,lang:t}),v=()=>({type:I}),w=Object.freeze(Object.defineProperty({__proto__:null,changeLang:j,initLang:G,switchLang:v},Symbol.toStringTag,{value:"Module"})),M=({className:t,switchLang:n})=>m.createElement(L,{title:!0},m.createElement("button",{type:"button",title:"LANGUAGE",className:t,onClick:()=>n()},m.createElement(L,null,"LANG"))),R=t=>({root:t}),P={...w},x=y.connect(R,P)(M),N={LANG:"en",LANGUAGE:"English",DATE_FORMAT:"MM/dd/yyyy",LOCALE:"enUS","$number items per page":"$number items per page","$total records":"$total records",Add:"Add","Ascending order":"Ascending order",Back:"Back","Changes have been saved.":"Changes have been saved.","Choose a file":"Choose a file",Columns:"Columns","Creation date":"Creation date","Descending order":"Descending order",Disabled:"Disabled",Enabled:"Enabled",First:"First","Hello World":"Hello World","Hide columns":"Hide columns",Last:"Last","Loading...":"Loading...",Members:"Members",Next:"Next",No:"No","No record":"No record","One record":"One record",Previous:"Previous",Reset:"Reset","This field is invalid.":"This field is invalid.",Title:"Title","to fill":"to fill","Update of $update, created at $start by $guest":"Update of $update, created at $start by $guest",Yes:"Yes"},g=(t,n,o={},a=!1)=>{let r;if(typeof n=="string"){const e=t[n];let c=!1;if(typeof o=="object"&&o!==null&&Object.keys(o).forEach(s=>{n===s&&(c=!0)}),c)r=n;else if(e)r=e;else{const s=`Not translated input: ${n}`;if(r=n,process.env.NODE_ENV!=="test"||a)console.warn(s);else throw new Error(s)}typeof o=="object"&&o!==null&&Object.keys(o).forEach(s=>{const i=o[s];if(typeof i=="object"&&i!==null&&"date"in i){const{date:f,format:u}=i;r=r.split(s).join(C(f,u,t.LOCALE))}else r=r.split(s).join(i)})}return r},U={tsl:(t,n)=>g(N,t,n),dictionaries:[N,E],lang:N.LANG},H=(t,n=h)=>{const o=(e,c)=>e.findIndex(({LANG:s})=>s===c),a=localStorage.getItem(n);let r={...U};if(Array.isArray(t)&&t[0]&&(r={...r,dictionaries:t,tsl:(e,c)=>g(t[0],e,c)}),a){const e=r.dictionaries,c=o(e,a);r={...r,lang:a,tsl:(s,i)=>g(e[c],s,i)}}return(e=r,c={})=>{switch(c.type){case b:{const s=o(e.dictionaries,c.lang);return{...e,...c,tsl:(i,f)=>g(e.dictionaries[s],i,f)}}case I:{const i=(o(e.dictionaries,e.lang)+1)%e.dictionaries.length,u=e.dictionaries[i].LANG;return localStorage.setItem(n,u),{...e,...c,lang:u,tsl:(l,d)=>g(e.dictionaries[i],l,d)}}default:return e}}};exports.I18n=L;exports.LangSwitch=x;exports.i18nReducer=H;
