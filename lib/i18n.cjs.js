"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const p=require("react"),N=require("react-redux"),S=require("date-fns/locale"),m=require("date-fns");function $(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return n.default=e,Object.freeze(n)}const G=$(S),L={LANG:"fr",LANGUAGE:"Français",DATE_FORMAT:"dd/MM/yyyy",LOCALE:"fr","$number items per page":"$number éléments par page","$total records":"$total enregistrements",Add:"Ajouter","Ascending order":"Ordre croissant",Back:"Retour","Changes have been saved.":"Les changements ont été sauvegardés.","Choose a file":"Choisir un fichier",Columns:"Colonnes","Creation date":"Date de création","Descending order":"Ordre décroissant",Disabled:"Désactivé",Enabled:"Activé",First:"Premier","Hello World":"Bonjour le monde","Hide columns":"Cacher les colonnes",Last:"Dernier","Loading...":"Chargement...",Members:"Membres",Next:"Suivant",No:"Non","No record":"Aucun enregistrement","One record":"Un enregistrement",Previous:"Précédent",Reset:"Réinitialiser","This field is invalid.":"Ce champ est invalide.",Title:"Titre","to fill":"à remplir","Update of $update, created at $start by $guest":"Mise à jour le $update, créé le $start par $guest",Yes:"Oui"},j="I18N_INIT_LANG",O="I18N_CHANGE_LANG",C="I18N_SWITCH_LANG",I="I18N_LOCAL_USER_LANG",b=["LANG","LANGUAGE","DATE_FORMAT","LOCALE"],w=(e=localStorage.getItem(I))=>({type:j,lang:e||L.LANG}),v=e=>({type:O,lang:e}),M=()=>({type:C}),T=Object.freeze(Object.defineProperty({__proto__:null,changeLang:v,initLang:w,switchLang:M},Symbol.toStringTag,{value:"Module"})),k=({className:e="form-select",root:{i18n:{dictionaries:n}},changeLang:o})=>p.createElement("select",{className:e,"data-testid":"i18n-lang-select",onChange:({target:{value:r}})=>o(r)},n.map(({LANG:r,LANGUAGE:s})=>p.createElement("option",{key:r,value:r},s))),R=e=>({root:e}),x={...T},P=N.connect(R,x)(k),U=(e,n)=>{const o=[];let r;return Object.keys(e).forEach(s=>{r=!1,Object.keys(n).forEach(t=>{s===t&&(r=!0)}),r||o.push(s)}),Object.keys(n).forEach(s=>{r=!1,Object.keys(e).forEach(t=>{s===t&&(r=!0)}),r||o.push(s)}),o},E=(e,n="P",o="enUS")=>{const r=G[o];let s="-";if(e instanceof Date)n==="fromNow"?s=m.formatDistance(e,new Date,{addSuffix:!0,locale:r}):s=m.format(e,n,{locale:r});else if(typeof e=="string"){const t=m.parseISO(e,"y-MM-dd",new Date);t instanceof Date&&!isNaN(t)&&(n==="fromNow"?s=m.formatDistance(t,new Date,{addSuffix:!0,locale:r}):s=m.format(t,n,{locale:r}))}return s},g={LANG:"en",LANGUAGE:"English",DATE_FORMAT:"MM/dd/yyyy",LOCALE:"enUS","$number items per page":"$number items per page","$total records":"$total records",Add:"Add","Ascending order":"Ascending order",Back:"Back","Changes have been saved.":"Changes have been saved.","Choose a file":"Choose a file",Columns:"Columns","Creation date":"Creation date","Descending order":"Descending order",Disabled:"Disabled",Enabled:"Enabled",First:"First","Hello World":"Hello World","Hide columns":"Hide columns",Last:"Last","Loading...":"Loading...",Members:"Members",Next:"Next",No:"No","No record":"No record","One record":"One record",Previous:"Previous",Reset:"Reset","This field is invalid.":"This field is invalid.",Title:"Title","to fill":"to fill","Update of $update, created at $start by $guest":"Update of $update, created at $start by $guest",Yes:"Yes"},H=e=>{const n=[];return typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).forEach(o=>{g[o]&&!b.includes(o)&&n.push(o)}),n},_=(e,n=!1)=>{const o=[];Object.keys(e).sort((t,i)=>{const a=t.toLowerCase(),c=i.toLowerCase();let l=1;return a<c?l=-1:a>c?l=1:t<i&&(l=-1),l}).map(t=>o.push(t));const r=[...o],s=b.slice(0,n?1:4);return s.forEach(t=>{const i=r.indexOf(t);if(i>-1)r.splice(i,1);else throw new Error(`${t} must be defined in dictionary`)}),[...s,...r]},F=e=>_(e,!0),D=(e,n=!1)=>{const o=[];return Object.keys(e).forEach(r=>{(!n||n&&!b.slice(1).includes(r))&&o.push(r)}),o},W=e=>D(e,!0),Y=({args:e,date:n,attrs:o,title:r,format:s,children:t,placeholder:i,root:{i18n:{lang:a,tsl:c}}})=>{let l="-";if(typeof n<"u")l=E(n,s,c("LOCALE"));else if(t&&a){const u=e||{};if(Object.keys(u).forEach(d=>{const f=u[d];typeof f=="object"&&f!==null&&"date"in f&&(f.lang=a)}),typeof t=="string")l=c(t,u);else{if(typeof t.length<"u")throw new Error("I18n can not translate several html tags in a row");if(t.type==="option"){const{value:d,children:f}=t.props;l=p.createElement("option",{value:d},c(f,u))}else{const d=o||[];if(r&&d.push("title"),i&&d.push("placeholder"),!Array.isArray(d)||Array.isArray(d)&&!d.length)throw new Error("I18n attributes are missing");const f={};d.forEach(h=>{typeof t.props[h]<"u"&&(f[h]=c(t.props[h],u))}),l=p.createElement(t.type,{...t.props,...f})}}}return l},q=e=>({root:e}),y=N.connect(q)(Y),B=({className:e,switchLang:n})=>p.createElement(y,{title:!0},p.createElement("button",{type:"button",title:"LANGUAGE",className:e,onClick:()=>n()},p.createElement(y,null,"LANG"))),z=e=>({root:e}),V={...T},J=N.connect(z,V)(B),A=(e,n,o={},r=!1)=>{let s;if(typeof n=="string"){const t=e[n];let i=!1;if(typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{n===a&&(i=!0)}),i)s=n;else if(t)s=t;else{const a=`Not translated input: ${n}`;if(s=n,process.env.NODE_ENV!=="test"||r)console.warn(a);else throw new Error(a)}typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{const c=o[a];if(typeof c=="object"&&c!==null&&"date"in c){const{date:l,format:u}=c;s=s.split(a).join(E(l,u,e.LOCALE))}else s=s.split(a).join(c)})}return s},K={tsl:(e,n)=>A(g,e,n),dictionaries:[g,L],lang:g.LANG},Q=(e,n=I)=>{const o=(t,i)=>{const a=t.findIndex(({LANG:c})=>c===i);return a===-1?0:a};let r={...K};if(Array.isArray(e)&&e[0]){const t=[];e.forEach(i=>{i.LANG===g.LANG?t.push({...g,...i}):i.LANG===L.LANG?t.push({...L,...i}):t.push(i)}),r={...r,dictionaries:t,tsl:(i,a)=>A(t[0],i,a)}}const s=localStorage.getItem(n);if(s){const t=r.dictionaries,i=o(t,s);r={...r,lang:s,tsl:(a,c)=>A(t[i],a,c)}}return(t=r,i={})=>{switch(i.type){case O:{const a=o(t.dictionaries,i.lang);return{...t,...i,tsl:(c,l)=>A(t.dictionaries[a],c,l)}}case C:{const c=(o(t.dictionaries,t.lang)+1)%t.dictionaries.length,u=t.dictionaries[c].LANG;return localStorage.setItem(n,u),{...t,...i,lang:u,tsl:(d,f)=>A(t.dictionaries[c],d,f)}}default:return t}}};exports.I18n=y;exports.LangSelect=P;exports.LangSwitch=J;exports.checkLocalTermOrder=F;exports.checkMissingTerms=U;exports.checkTermOrder=_;exports.convertCollection=D;exports.convertLocalCollection=W;exports.formatDate=E;exports.i18nReducer=Q;exports.trimTerms=H;
